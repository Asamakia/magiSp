# ãƒã‚¸ãƒƒã‚¯ã‚¹ãƒ”ãƒªãƒƒãƒˆ ã‚³ãƒ¼ãƒ‰æ§‹æˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

æœ€çµ‚æ›´æ–°æ—¥: 2025-11-29
ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 3.0

---

## ğŸ“Š ã‚³ãƒ¼ãƒ‰çµ±è¨ˆ

| ã‚«ãƒ†ã‚´ãƒª | è¡Œæ•° | å‰²åˆ |
|----------|------|------|
| ãƒ¡ã‚¤ãƒ³ã‚²ãƒ¼ãƒ  (magic-spirit.jsx) | 5,909è¡Œ | 12% |
| ãƒãƒˆãƒ«ã‚¨ãƒ³ã‚¸ãƒ³ (engine/) | 18,869è¡Œ | 38% |
| ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ (collection/) | 15,933è¡Œ | 32% |
| UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (components/) | 1,080è¡Œ | 2% |
| ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ (utils/, styles/, decks/) | 1,567è¡Œ | 3% |
| ãã®ä»– | ~6,000è¡Œ | 13% |
| **åˆè¨ˆ** | **~49,300è¡Œ** | 100% |

---

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
/home/user/magiSp/
â”œâ”€â”€ public/                     # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ cardlist/
â”‚   â”‚   â””â”€â”€ cardlist.csv       # 433æšã®ã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ï¼ˆCSVå½¢å¼ï¼‰
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.js                  # Reactã‚¢ãƒ—ãƒªã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ (~10è¡Œ)
â”‚   â”œâ”€â”€ magic-spirit.jsx        # ãƒ¡ã‚¤ãƒ³ã‚²ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (5,909è¡Œ) â­æœ€é‡è¦
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                  # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ç¾¤ (~405è¡Œ)
â”‚   â”‚   â”œâ”€â”€ constants.js        # ã‚²ãƒ¼ãƒ å®šæ•°å®šç¾©
â”‚   â”‚   â”œâ”€â”€ helpers.js          # ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
â”‚   â”‚   â””â”€â”€ cardManager.js      # ã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ç®¡ç† (253è¡Œ)
â”‚   â”‚
â”‚   â”œâ”€â”€ decks/                  # ãƒ‡ãƒƒã‚­å®šç¾© â­NEW
â”‚   â”‚   â””â”€â”€ prebuiltDecks.js    # æ§‹ç¯‰æ¸ˆã¿ãƒ‡ãƒƒã‚­å®šç¾© (485è¡Œ)
â”‚   â”‚
â”‚   â”œâ”€â”€ components/             # ãƒãƒˆãƒ«UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (~1,080è¡Œ)
â”‚   â”‚   â”œâ”€â”€ Card.jsx            # ã‚«ãƒ¼ãƒ‰è¡¨ç¤º (240è¡Œ)
â”‚   â”‚   â”œâ”€â”€ FieldMonster.jsx    # ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼è¡¨ç¤º (260è¡Œ)
â”‚   â”‚   â”œâ”€â”€ SPTokens.jsx        # SPãƒˆãƒ¼ã‚¯ãƒ³è¡¨ç¤º (38è¡Œ)
â”‚   â”‚   â”œâ”€â”€ GameLog.jsx         # ã‚²ãƒ¼ãƒ ãƒ­ã‚°è¡¨ç¤º (21è¡Œ)
â”‚   â”‚   â””â”€â”€ DeckReviewModal.jsx # ãƒ‡ãƒƒã‚­ç¢ºèªãƒ¢ãƒ¼ãƒ€ãƒ« (542è¡Œ) â­NEW
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/                 # ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾© (~829è¡Œ)
â”‚   â”‚   â”œâ”€â”€ gameStyles.js       # ã‚²ãƒ¼ãƒ å…¨ä½“ã®ã‚¹ã‚¿ã‚¤ãƒ« (182è¡Œ)
â”‚   â”‚   â””â”€â”€ rarityEffects.js    # ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ (647è¡Œ) â­NEW
â”‚   â”‚
â”‚   â”œâ”€â”€ engine/                 # ãƒãƒˆãƒ«ã‚¨ãƒ³ã‚¸ãƒ³ (~18,869è¡Œ) â­â­
â”‚   â”‚   â”œâ”€â”€ effectEngine.js     # æ±ç”¨åŠ¹æœå®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³ (609è¡Œ)
â”‚   â”‚   â”œâ”€â”€ effectHelpers.js    # åŠ¹æœãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•° (1,328è¡Œ) â­æœ€é‡è¦
â”‚   â”‚   â”œâ”€â”€ triggerTypes.js     # ãƒˆãƒªã‚¬ãƒ¼ã‚¿ã‚¤ãƒ—å®šç¾© (520è¡Œ)
â”‚   â”‚   â”œâ”€â”€ triggerEngine.js    # ãƒˆãƒªã‚¬ãƒ¼ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç† (871è¡Œ)
â”‚   â”‚   â”œâ”€â”€ phaseCardEffects.js # ãƒ•ã‚§ã‚¤ã‚ºã‚«ãƒ¼ãƒ‰æ®µéšåŠ¹æœ (199è¡Œ)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ cardEffects/        # ã‚«ãƒ¼ãƒ‰å›ºæœ‰åŠ¹æœå®Ÿè£… (~5,572è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ index.js        # åŠ¹æœãƒ¬ã‚¸ã‚¹ãƒˆãƒª
â”‚   â”‚   â”‚   â”œâ”€â”€ _template.js    # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ fire.js         # ç‚å±æ€§åŠ¹æœ (1,043è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ water.js        # æ°´å±æ€§åŠ¹æœ (1,939è¡Œ) â­æœ€å¤§
â”‚   â”‚   â”‚   â”œâ”€â”€ light.js        # å…‰å±æ€§åŠ¹æœ (319è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ dark.js         # é—˜å±æ€§åŠ¹æœ (514è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ primitive.js    # åŸå§‹å±æ€§åŠ¹æœ (657è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ future.js       # æœªæ¥å±æ€§åŠ¹æœ (1,084è¡Œ)
â”‚   â”‚   â”‚   â””â”€â”€ neutral.js      # ãªã—å±æ€§åŠ¹æœ
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ cardTriggers/       # ã‚«ãƒ¼ãƒ‰ãƒˆãƒªã‚¬ãƒ¼å®Ÿè£… (~8,373è¡Œã€220+ã‚«ãƒ¼ãƒ‰)
â”‚   â”‚   â”‚   â”œâ”€â”€ fireCards.js      # ç‚å±æ€§ãƒˆãƒªã‚¬ãƒ¼ (1,064è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ waterCards.js     # æ°´å±æ€§ãƒˆãƒªã‚¬ãƒ¼ (1,789è¡Œ) â­æœ€å¤§
â”‚   â”‚   â”‚   â”œâ”€â”€ lightCards.js     # å…‰å±æ€§ãƒˆãƒªã‚¬ãƒ¼ (1,094è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ darkCards.js      # é—‡å±æ€§ãƒˆãƒªã‚¬ãƒ¼ (1,533è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ futureCards.js    # æœªæ¥å±æ€§ãƒˆãƒªã‚¬ãƒ¼ (911è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ primitiveCards.js # åŸå§‹å±æ€§ãƒˆãƒªã‚¬ãƒ¼ (1,280è¡Œ)
â”‚   â”‚   â”‚   â””â”€â”€ neutralCards.js   # ãªã—å±æ€§ãƒˆãƒªã‚¬ãƒ¼ (702è¡Œ)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ continuousEffects/  # å¸¸æ™‚åŠ¹æœã‚·ã‚¹ãƒ†ãƒ  (~2,319è¡Œã€45ã‚«ãƒ¼ãƒ‰)
â”‚   â”‚   â”‚   â”œâ”€â”€ index.js          # ãƒ¡ã‚¤ãƒ³ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ (106è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ effectTypes.js    # åŠ¹æœã‚¿ã‚¤ãƒ—å®šç¾© (224è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ targetTypes.js    # ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚¿ã‚¤ãƒ—å®šç¾© (182è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ conditionChecker.js # æ¡ä»¶ãƒã‚§ãƒƒã‚¯ (329è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ valueCalculator.js  # å€¤è¨ˆç®— (217è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ effectEngine.js   # å¸¸æ™‚åŠ¹æœã‚¨ãƒ³ã‚¸ãƒ³ (786è¡Œ)
â”‚   â”‚   â”‚   â””â”€â”€ effectDefinitions/ # ã‚«ãƒ¼ãƒ‰åŠ¹æœå®šç¾©
â”‚   â”‚   â”‚       â”œâ”€â”€ index.js
â”‚   â”‚   â”‚       â”œâ”€â”€ fieldCards.js   # ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰åŠ¹æœ (415è¡Œ)
â”‚   â”‚   â”‚       â”œâ”€â”€ monsterCards.js # ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ã‚«ãƒ¼ãƒ‰åŠ¹æœ (404è¡Œ)
â”‚   â”‚   â”‚       â””â”€â”€ phaseCards.js   # ãƒ•ã‚§ã‚¤ã‚ºã‚«ãƒ¼ãƒ‰åŠ¹æœ
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ statusEffects/      # çŠ¶æ…‹ç•°å¸¸ã‚·ã‚¹ãƒ†ãƒ  (~1,091è¡Œã€15ç¨®é¡)
â”‚   â”‚   â”‚   â”œâ”€â”€ index.js          # ãƒ¡ã‚¤ãƒ³ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ (20è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ statusTypes.js    # çŠ¶æ…‹ã‚¿ã‚¤ãƒ—å®šç¾© (400è¡Œ)
â”‚   â”‚   â”‚   â””â”€â”€ statusEngine.js   # çŠ¶æ…‹ç•°å¸¸ã‚¨ãƒ³ã‚¸ãƒ³ (671è¡Œ)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ keywordAbilities/   # ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰èƒ½åŠ›ã‚·ã‚¹ãƒ†ãƒ  (895è¡Œ)
â”‚   â”‚   â”‚   â””â”€â”€ index.js          # ã€åˆ¹é‚£è© å”±ã€‘ã€é€£æºã€‘ç­‰ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å‡¦ç†
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ai/                 # AIãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚·ã‚¹ãƒ†ãƒ  (~1,556è¡Œ)
â”‚   â”‚       â”œâ”€â”€ index.js          # ãƒ¡ã‚¤ãƒ³ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
â”‚   â”‚       â”œâ”€â”€ aiController.js   # AIã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ (630è¡Œ)
â”‚   â”‚       â”œâ”€â”€ skillEffectivityChecker.js # ã‚¹ã‚­ãƒ«æœ‰åŠ¹æ€§ãƒã‚§ãƒƒã‚¯ â­NEW
â”‚   â”‚       â””â”€â”€ strategies/       # æˆ¦ç•¥å®Ÿè£…
â”‚   â”‚           â”œâ”€â”€ index.js      # æˆ¦ç•¥ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼
â”‚   â”‚           â”œâ”€â”€ base.js       # åŸºæœ¬æˆ¦ç•¥ï¼ˆãƒ©ãƒ³ãƒ€ãƒ ï¼‰(231è¡Œ)
â”‚   â”‚           â”œâ”€â”€ easy.js       # ã‹ã‚“ãŸã‚“AI
â”‚   â”‚           â”œâ”€â”€ normal.js     # ãµã¤ã†AI (227è¡Œ)
â”‚   â”‚           â””â”€â”€ hard.js       # ã‚€ãšã‹ã—ã„AI (383è¡Œ)
â”‚   â”‚
â”‚   â”œâ”€â”€ collection/             # ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ  (~15,933è¡Œ) â­â­â­â­â­ NEW
â”‚   â”‚   â”œâ”€â”€ index.js              # ãƒ¡ã‚¤ãƒ³ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ (184è¡Œ)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ data/                 # ãƒ‡ãƒ¼ã‚¿ç®¡ç† (~591è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ storage.js        # æ°¸ç¶šåŒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼ (139è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ playerData.js     # ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‡ãƒ¼ã‚¿æ§‹é€  (267è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ constants.js      # çµŒæ¸ˆå®šæ•° (135è¡Œ)
â”‚   â”‚   â”‚   â””â”€â”€ migration.js      # ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ (50è¡Œ)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ systems/              # ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ  (~1,716è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ valueCalculator.js    # ã‚«ãƒ¼ãƒ‰ä¾¡å€¤è¨ˆç®— (239è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ raritySystem.js       # ãƒ¬ã‚¢ãƒªãƒ†ã‚£å®šç¾© (168è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ collectionManager.js  # ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç† (273è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ currencyManager.js    # é€šè²¨ç®¡ç† (182è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ packSystem.js         # ãƒ‘ãƒƒã‚¯é–‹å° (368è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ shopSystem.js         # å£²è²·å‡¦ç† (164è¡Œ)
â”‚   â”‚   â”‚   â””â”€â”€ assetCalculator.js    # è³‡ç”£è¨ˆç®— (342è¡Œ)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ market/               # å‹•çš„å¸‚å ´ã‚·ã‚¹ãƒ†ãƒ  (~2,925è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ index.js          # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ (40è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ constants.js      # å¸‚å ´å®šæ•° (125è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ marketEngine.js   # ä¾¡æ ¼è¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³ (343è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ weeklyTrend.js    # é€±é–“ãƒˆãƒ¬ãƒ³ãƒ‰ (190è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ newsGenerator.js  # ãƒ‹ãƒ¥ãƒ¼ã‚¹ç”Ÿæˆ (569è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ suddenEvents.js   # çªç™ºã‚¤ãƒ™ãƒ³ãƒˆ (415è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ priceHistory.js   # ä¾¡æ ¼å±¥æ­´ (410è¡Œ)
â”‚   â”‚   â”‚   â””â”€â”€ data/             # å¸‚å ´ãƒ‡ãƒ¼ã‚¿ (~1,244è¡Œ)
â”‚   â”‚   â”‚       â”œâ”€â”€ categories.js     # ã‚«ãƒ†ã‚´ãƒªãƒãƒƒãƒ”ãƒ³ã‚° (127è¡Œ)
â”‚   â”‚   â”‚       â”œâ”€â”€ persons.js        # NPCã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ (137è¡Œ)
â”‚   â”‚   â”‚       â”œâ”€â”€ locations.js      # ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ (238è¡Œ)
â”‚   â”‚   â”‚       â”œâ”€â”€ reasons.js        # ä¾¡æ ¼å¤‰å‹•ç†ç”± (152è¡Œ)
â”‚   â”‚   â”‚       â”œâ”€â”€ rumors.js         # å™‚ãƒ»å›ã (120è¡Œ)
â”‚   â”‚   â”‚       â”œâ”€â”€ comparisons.js    # A vs Bãƒ‘ã‚¿ãƒ¼ãƒ³ (94è¡Œ)
â”‚   â”‚   â”‚       â”œâ”€â”€ supplyDemand.js   # éœ€çµ¦ãƒ‘ã‚¿ãƒ¼ãƒ³ (43è¡Œ)
â”‚   â”‚   â”‚       â”œâ”€â”€ seasonal.js       # å­£ç¯€åŠ¹æœ (114è¡Œ)
â”‚   â”‚   â”‚       â””â”€â”€ characters.js     # ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚­ãƒ£ãƒ© (244è¡Œ)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ merchant/             # å•†äººã‚·ã‚¹ãƒ†ãƒ  (~1,708è¡Œ) â­NEW
â”‚   â”‚   â”‚   â”œâ”€â”€ index.js          # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ (71è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ constants.js      # å•†äººå®šæ•° (160è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ merchantData.js   # å•†äººãƒ‡ãƒ¼ã‚¿ (344è¡Œ)
â”‚   â”‚   â”‚   â””â”€â”€ merchantSystem.js # å•†äººãƒ­ã‚¸ãƒƒã‚¯ (1,133è¡Œ)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ hooks/                # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ (~83è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ index.js          # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ (10è¡Œ)
â”‚   â”‚   â”‚   â””â”€â”€ useMediaQuery.js  # ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ•ãƒƒã‚¯ (73è¡Œ)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ components/           # ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³UI (~7,270è¡Œ)
â”‚   â”‚       â”œâ”€â”€ CollectionScreen.jsx  # ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ç”»é¢ (531è¡Œ)
â”‚   â”‚       â”œâ”€â”€ ShopScreen.jsx        # ã‚·ãƒ§ãƒƒãƒ—ç”»é¢ (1,167è¡Œ) â­æœ€å¤§
â”‚   â”‚       â”œâ”€â”€ PackOpening.jsx       # ãƒ‘ãƒƒã‚¯é–‹å°æ¼”å‡º (710è¡Œ)
â”‚   â”‚       â”œâ”€â”€ CardGrid.jsx          # ã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰ (383è¡Œ)
â”‚   â”‚       â”œâ”€â”€ CardDetail.jsx        # ã‚«ãƒ¼ãƒ‰è©³ç´° (656è¡Œ)
â”‚   â”‚       â”œâ”€â”€ DeckList.jsx          # ãƒ‡ãƒƒã‚­ä¸€è¦§ (446è¡Œ)
â”‚   â”‚       â”œâ”€â”€ DeckBuilder.jsx       # ãƒ‡ãƒƒã‚­æ§‹ç¯‰ (941è¡Œ)
â”‚   â”‚       â”œâ”€â”€ PriceChart.jsx        # ä¾¡æ ¼ãƒãƒ£ãƒ¼ãƒˆ (299è¡Œ)
â”‚   â”‚       â”œâ”€â”€ MarketAnalysis.jsx    # å¸‚å ´åˆ†æç”»é¢ (1,123è¡Œ)
â”‚   â”‚       â”œâ”€â”€ MerchantGuild.jsx     # å•†äººã‚®ãƒ«ãƒ‰ (617è¡Œ) â­NEW
â”‚   â”‚       â””â”€â”€ MerchantShop.jsx      # å•†äººã‚·ãƒ§ãƒƒãƒ— (1,397è¡Œ) â­NEW
â”‚   â”‚
â”‚   â””â”€â”€ ãƒ«ãƒ¼ãƒ«/                  # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆé¡
â”‚       â”œâ”€â”€ code-structure.md   # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”‚       â”œâ”€â”€ CHANGELOG.md        # å¤‰æ›´å±¥æ­´
â”‚       â”œâ”€â”€ magic-spirit-roadmap-updated.txt
â”‚       â”œâ”€â”€ ai-player-system-design.md
â”‚       â”œâ”€â”€ status-effect-system-design.md
â”‚       â”œâ”€â”€ continuous-effect-system-design.md
â”‚       â”œâ”€â”€ trigger-*.md        # ãƒˆãƒªã‚¬ãƒ¼é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚       â”œâ”€â”€ keyword-abilities.md
â”‚       â”œâ”€â”€ chain-system-design.md
â”‚       â”œâ”€â”€ getPlayerContext-refactoring-guide.md
â”‚       â”œâ”€â”€ CardValueSystem/    # ã‚«ãƒ¼ãƒ‰ä¾¡å€¤ãƒ»å¸‚å ´ã‚·ã‚¹ãƒ†ãƒ 
â”‚       â”‚   â”œâ”€â”€ card_value_system_v2.1.md
â”‚       â”‚   â”œâ”€â”€ collection-system-design.md
â”‚       â”‚   â”œâ”€â”€ market_system.md
â”‚       â”‚   â”œâ”€â”€ news-binding-tables-design.md
â”‚       â”‚   â”œâ”€â”€ merchant_system.md
â”‚       â”‚   â””â”€â”€ investment_system.md  # æŠ•è³‡ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ â­NEW
â”‚       â””â”€â”€ *.txt               # ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ«æ–‡æ›¸
â”‚
â”œâ”€â”€ package.json
â”œâ”€â”€ CLAUDE.md                   # AIé–‹ç™ºè€…å‘ã‘ã‚¬ã‚¤ãƒ‰
â””â”€â”€ README.md
```

---

## ğŸ“„ å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®è©³ç´°

### **ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«**

#### `src/magic-spirit.jsx` (5,909è¡Œ) â­æœ€é‡è¦
- **å½¹å‰²**: ã‚²ãƒ¼ãƒ ã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã¨çŠ¶æ…‹ç®¡ç†
- **å†…å®¹**:
  - ã‚²ãƒ¼ãƒ çŠ¶æ…‹ç®¡ç†ï¼ˆReact hooks Ã— 70å€‹ï¼‰
  - ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼çŠ¶æ…‹ï¼ˆãƒ©ã‚¤ãƒ•ã€ãƒ‡ãƒƒã‚­ã€æ‰‹æœ­ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã€å¢“åœ°ï¼‰
  - ã‚²ãƒ¼ãƒ ãƒ•ãƒ­ãƒ¼åˆ¶å¾¡ï¼ˆãƒ•ã‚§ãƒ¼ã‚ºé€²è¡Œã€ã‚¿ãƒ¼ãƒ³ç®¡ç†ï¼‰
  - ã‚«ãƒ¼ãƒ‰å¬å–šãƒ»æˆ¦é—˜ãƒ»æŠ€ç™ºå‹•å‡¦ç†
  - AIãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼çµ±åˆ
  - ãƒˆãƒªã‚¬ãƒ¼ãƒ»å¸¸æ™‚åŠ¹æœãƒ»çŠ¶æ…‹ç•°å¸¸ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ
  - ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ
  - UI ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆç´„2,000è¡Œï¼‰
- **èª²é¡Œ**: ãƒ­ã‚¸ãƒƒã‚¯ã¨UIãŒå¯†çµåˆã€ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹å®Ÿè¡Œä¸å¯

---

### **ãƒãƒˆãƒ«ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆsrc/engine/ï¼‰** â­â­

æ—¢ã«åˆ†é›¢ã•ã‚ŒãŸã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯ã€‚åˆè¨ˆç´„18,869è¡Œã€‚

#### åŠ¹æœã‚·ã‚¹ãƒ†ãƒ 
| ãƒ•ã‚¡ã‚¤ãƒ« | è¡Œæ•° | å½¹å‰² |
|----------|------|------|
| effectEngine.js | 609 | æ±ç”¨åŠ¹æœè§£æãƒ»å®Ÿè¡Œ |
| effectHelpers.js | 1,328 | å†åˆ©ç”¨å¯èƒ½ãªåŠ¹æœãƒ‘ã‚¿ãƒ¼ãƒ³ |
| triggerTypes.js | 520 | 27ç¨®é¡ã®ãƒˆãƒªã‚¬ãƒ¼ã‚¿ã‚¤ãƒ—å®šç¾© |
| triggerEngine.js | 871 | ãƒˆãƒªã‚¬ãƒ¼ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç† |
| phaseCardEffects.js | 199 | ãƒ•ã‚§ã‚¤ã‚ºã‚«ãƒ¼ãƒ‰æ®µéšåŠ¹æœ |

#### ã‚«ãƒ¼ãƒ‰å›ºæœ‰å®Ÿè£…
| ãƒ•ã‚©ãƒ«ãƒ€ | è¡Œæ•° | ã‚«ãƒ¼ãƒ‰æ•° |
|----------|------|----------|
| cardEffects/ | 5,572 | 108+ã‚«ãƒ¼ãƒ‰ |
| cardTriggers/ | 8,373 | 220+ã‚«ãƒ¼ãƒ‰ |
| continuousEffects/ | 2,319 | 45ã‚«ãƒ¼ãƒ‰ |

#### ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ 
| ãƒ•ã‚©ãƒ«ãƒ€ | è¡Œæ•° | å½¹å‰² |
|----------|------|------|
| statusEffects/ | 1,091 | çŠ¶æ…‹ç•°å¸¸15ç¨®é¡ |
| keywordAbilities/ | 895 | ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰èƒ½åŠ›14ç¨®é¡ |
| ai/ | 1,556 | AIæˆ¦ç•¥3æ®µéš |

---

### **ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ ï¼ˆsrc/collection/ï¼‰** â­â­â­â­â­

å¯¾æˆ¦ã‚·ã‚¹ãƒ†ãƒ ã¨ã¯ç‹¬ç«‹ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€‚åˆè¨ˆç´„15,933è¡Œã€‚

#### ãƒ‡ãƒ¼ã‚¿å±¤ (~591è¡Œ)
| ãƒ•ã‚¡ã‚¤ãƒ« | è¡Œæ•° | å½¹å‰² |
|----------|------|------|
| storage.js | 139 | localStorageæŠ½è±¡åŒ– |
| playerData.js | 267 | ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‡ãƒ¼ã‚¿æ§‹é€  |
| constants.js | 135 | çµŒæ¸ˆå®šæ•° |
| migration.js | 50 | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—å¯¾å¿œ |

#### ã‚·ã‚¹ãƒ†ãƒ å±¤ (~1,716è¡Œ)
| ãƒ•ã‚¡ã‚¤ãƒ« | è¡Œæ•° | å½¹å‰² |
|----------|------|------|
| valueCalculator.js | 239 | ã‚«ãƒ¼ãƒ‰ä¾¡å€¤ãƒ»ãƒ†ã‚£ã‚¢è¨ˆç®— |
| raritySystem.js | 168 | ãƒ¬ã‚¢ãƒªãƒ†ã‚£10ç¨®é¡å®šç¾© |
| collectionManager.js | 273 | ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³CRUD |
| currencyManager.js | 182 | é€šè²¨ï¼ˆGï¼‰ç®¡ç† |
| packSystem.js | 368 | ãƒ‘ãƒƒã‚¯é–‹å°ãƒ­ã‚¸ãƒƒã‚¯ |
| shopSystem.js | 164 | å£²è²·å‡¦ç† |
| assetCalculator.js | 342 | ç·è³‡ç”£è¨ˆç®—ãƒ»å±¥æ­´ |

#### å¸‚å ´ã‚·ã‚¹ãƒ†ãƒ  (~2,925è¡Œ)
| ãƒ•ã‚¡ã‚¤ãƒ« | è¡Œæ•° | å½¹å‰² |
|----------|------|------|
| marketEngine.js | 343 | ä¾¡æ ¼å¤‰å‹•è¨ˆç®— |
| weeklyTrend.js | 190 | é€±é–“ãƒˆãƒ¬ãƒ³ãƒ‰15ç¨®é¡ |
| newsGenerator.js | 569 | ãƒ‹ãƒ¥ãƒ¼ã‚¹8ãƒ‘ã‚¿ãƒ¼ãƒ³ç”Ÿæˆ |
| suddenEvents.js | 415 | çªç™ºã‚¤ãƒ™ãƒ³ãƒˆ25ç¨®é¡ |
| priceHistory.js | 410 | ä¾¡æ ¼å±¥æ­´30æˆ¦åˆ† |
| data/* | 1,244 | å¸‚å ´ãƒ‡ãƒ¼ã‚¿ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ |

#### å•†äººã‚·ã‚¹ãƒ†ãƒ  (~1,708è¡Œ)
| ãƒ•ã‚¡ã‚¤ãƒ« | è¡Œæ•° | å½¹å‰² |
|----------|------|------|
| merchantData.js | 344 | å•†äººãƒ‡ãƒ¼ã‚¿å®šç¾© |
| merchantSystem.js | 1,133 | å•†äººãƒ­ã‚¸ãƒƒã‚¯ |
| constants.js | 160 | å•†äººå®šæ•° |

#### UIå±¤ (~7,270è¡Œ)
| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | è¡Œæ•° | å½¹å‰² |
|----------------|------|------|
| ShopScreen.jsx | 1,167 | ã‚·ãƒ§ãƒƒãƒ—ç”»é¢ |
| MerchantShop.jsx | 1,397 | å•†äººã‚·ãƒ§ãƒƒãƒ— |
| MarketAnalysis.jsx | 1,123 | å¸‚å ´åˆ†æ7ã‚¿ãƒ– |
| DeckBuilder.jsx | 941 | ãƒ‡ãƒƒã‚­æ§‹ç¯‰ |
| PackOpening.jsx | 710 | ãƒ‘ãƒƒã‚¯é–‹å°æ¼”å‡º |
| CardDetail.jsx | 656 | ã‚«ãƒ¼ãƒ‰è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ« |
| MerchantGuild.jsx | 617 | å•†äººã‚®ãƒ«ãƒ‰ |
| CollectionScreen.jsx | 531 | ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ä¸€è¦§ |
| DeckList.jsx | 446 | ãƒ‡ãƒƒã‚­ç®¡ç† |
| CardGrid.jsx | 383 | ã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰ |
| PriceChart.jsx | 299 | ä¾¡æ ¼ãƒãƒ£ãƒ¼ãƒˆ |

---

## ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### ã‚²ãƒ¼ãƒ èµ·å‹•æ™‚
```
1. App.js
   â†“
2. MagicSpiritGameï¼ˆmagic-spirit.jsxï¼‰
   â†“
3. useEffect: loadCardsFromCSV()
   â†“
4. parseCSV() â†’ setAllCards()
   â†“
5. ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢è¡¨ç¤ºï¼ˆãƒ‡ãƒƒã‚­é¸æŠãƒ»AIè¨­å®šï¼‰
```

### ã‚«ãƒ¼ãƒ‰å¬å–šæ™‚
```
1. summonCard(card, slotIndex)
   â†“
2. createMonsterInstance(card)
   â†“
3. continuousEffectEngine.register()  // å¸¸æ™‚åŠ¹æœç™»éŒ²
   â†“
4. registerCardTriggers()  // ãƒˆãƒªã‚¬ãƒ¼ç™»éŒ²
   â†“
5. fireTrigger(ON_SUMMON)  // å¬å–šæ™‚ãƒˆãƒªã‚¬ãƒ¼ç™ºç«
   â†“
6. UIæ›´æ–°
```

### æŠ€ç™ºå‹•æ™‚
```
1. executeSkill(monsterIndex, skillType)
   â†“
2. statusEffectEngine.canUseSkill()  // çŠ¶æ…‹ç•°å¸¸ãƒã‚§ãƒƒã‚¯
   â†“
3. executeSkillEffects(skillText, context, cardId)
   â†“
4. getCardEffect(cardId) â†’ ã‚«ãƒ¼ãƒ‰å›ºæœ‰åŠ¹æœå®Ÿè¡Œ
   â†“ ã¾ãŸã¯
5. parseEffect() â†’ executeEffect()  // æ±ç”¨åŠ¹æœ
   â†“
6. çŠ¶æ…‹æ›´æ–° â†’ UIæ›´æ–°
```

### AIã‚¿ãƒ¼ãƒ³
```
1. AIã‚¿ãƒ¼ãƒ³é–‹å§‹æ¤œå‡º
   â†“
2. executeAIMainPhaseAction()
   â†“
3. æˆ¦ç•¥ã«åŸºã¥ã„ã¦è¡Œå‹•æ±ºå®š
   â†“
4. summonCard() / executeSkill() / nextPhase()
   â†“
5. executeAIBattlePhaseAction()
   â†“
6. æ”»æ’ƒå¯¾è±¡æ±ºå®š â†’ attack()
```

### ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œ
```
1. CollectionScreen / ShopScreen
   â†“
2. collectionManager / shopSystem
   â†“
3. playerDataæ›´æ–°
   â†“
4. storage.save()
   â†“
5. localStorageæ°¸ç¶šåŒ–
```

---

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£èª²é¡Œã¨ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

**è©³ç´°**: `game-engine-refactoring-plan.md` ã‚’å‚ç…§

### ç¾çŠ¶
- `magic-spirit.jsx` (5,909è¡Œ) ã«ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯ã¨UIãŒå¯†çµåˆ
- React hooks (useState Ã— 70å€‹) ã«ä¾å­˜
- ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹å®Ÿè¡Œãƒ»ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆãŒå›°é›£

### é€²è¡Œä¸­ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- **GameEngine** (`src/engine/gameEngine/`): ç´”ç²‹JavaScriptç‰ˆã‚²ãƒ¼ãƒ ã‚¨ãƒ³ã‚¸ãƒ³
  - `GameState.js` (385è¡Œ): çŠ¶æ…‹å®šç¾©
  - `GameActions.js` (805è¡Œ): ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†
  - `Simulator.js` (245è¡Œ): ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹å¯¾æˆ¦ï¼ˆ100æˆ¦40msé”æˆï¼‰
  - `useGameEngine.js` (260è¡Œ): Reactã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼
- **ã‚·ãƒ£ãƒ‰ã‚¦ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒæ–¹å¼**: UI (useState) ã¨ GameEngine (engineState) ã®ä¸¦è¡Œæ›´æ–°
- **é€²æ—**: Step 6 (Reactçµ±åˆ) é€²è¡Œä¸­ã€41ãƒ†ã‚¹ãƒˆæˆåŠŸ

**çµ±åˆè©³ç´°**: `step6-integration-design.md` ã‚’å‚ç…§

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **é–‹ç™ºã‚¬ã‚¤ãƒ‰**: `/home/user/magiSp/CLAUDE.md`
- **ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—**: `magic-spirit-roadmap-updated.txt`
- **AIã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ**: `ai-player-system-design.md`
- **çŠ¶æ…‹ç•°å¸¸è¨­è¨ˆ**: `status-effect-system-design.md`
- **å¸¸æ™‚åŠ¹æœè¨­è¨ˆ**: `continuous-effect-system-design.md`
- **ãƒˆãƒªã‚¬ãƒ¼è¨­è¨ˆ**: `trigger-system-design.md`, `trigger-implementation-guide.md`
- **ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰èƒ½åŠ›**: `keyword-abilities.md`
- **ãƒã‚§ãƒ¼ãƒ³ã‚·ã‚¹ãƒ†ãƒ **: `chain-system-design.md`
- **ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³è¨­è¨ˆ**: `CardValueSystem/collection-system-design.md`
- **å¸‚å ´ã‚·ã‚¹ãƒ†ãƒ **: `CardValueSystem/market_system.md`
- **æŠ•è³‡ã‚·ã‚¹ãƒ†ãƒ **: `CardValueSystem/investment_system.md`
- **ãƒ«ãƒ¼ãƒ«ä»•æ§˜**: `ãƒã‚¸ãƒƒã‚¯ã‚¹ãƒ”ãƒªãƒƒãƒˆ å…¬å¼ãƒ«ãƒ¼ãƒ«ä»•æ§˜æ›¸ ver2.4.txt`

---

**ä½œæˆæ—¥**: 2025-11-26
**æ›´æ–°æ—¥**: 2025-11-29
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 3.0
