/**
 * 動的市場システム - カテゴリと所属属性
 *
 * カテゴリを選んだら属性は自動決定される
 */

// ========================================
// カテゴリ → 属性 マッピング
// ========================================

export const CATEGORY_ATTRIBUTES = {
  // 炎属性
  '岩狸': '炎',
  'ドラゴン': '炎',
  'フェニックス': '炎', // 炎/光だが主属性は炎

  // 水属性
  'ブリザードキャット': '水',
  'ヴェルゼファール': '水',
  'リヴァイアサン': '水',

  // 光属性
  '鳥民': '光',
  'フルーツ・マリオネット': '光',
  'リリカ': '光', // 光/闇だが主属性は光

  // 闇属性
  '魔女': '闇',
  'シャドウ': '闇',
  '黒呪': '闇',

  // 原始属性
  'ゴシック': '原始', // 原始/闇だが主属性は原始
  '粘液獣': '原始',
  '鎖縛': '原始',

  // 未来属性
  'ゴーレム': '未来',
  '未来鴉': '未来',

  // 複数属性（ランダムに属性を選択）
  '虹羽密林': null,  // 複数
  '呪術狩り': null,  // 複数
  'ヴォランティス': null, // 複数

  // なし属性
  '鉄槍騎士団': 'なし',
};

// ========================================
// カテゴリ一覧
// ========================================

export const CATEGORIES = Object.keys(CATEGORY_ATTRIBUTES);

// ========================================
// 属性 → カテゴリ マッピング（逆引き）
// ========================================

export const ATTRIBUTE_CATEGORIES = {
  '炎': ['岩狸', 'ドラゴン', 'フェニックス'],
  '水': ['ブリザードキャット', 'ヴェルゼファール', 'リヴァイアサン'],
  '光': ['鳥民', 'フルーツ・マリオネット', 'リリカ'],
  '闇': ['魔女', 'シャドウ', '黒呪'],
  '原始': ['ゴシック', '粘液獣', '鎖縛'],
  '未来': ['ゴーレム', '未来鴉'],
  'なし': ['鉄槍騎士団'],
};

// ========================================
// ヘルパー関数
// ========================================

/**
 * カテゴリから属性を取得
 * @param {string} category - カテゴリ名
 * @returns {string|null} 属性名（複数属性の場合はnull）
 */
export const getAttributeForCategory = (category) => {
  return CATEGORY_ATTRIBUTES[category] || null;
};

/**
 * 属性からカテゴリ一覧を取得
 * @param {string} attribute - 属性名
 * @returns {string[]} カテゴリ名の配列
 */
export const getCategoriesForAttribute = (attribute) => {
  return ATTRIBUTE_CATEGORIES[attribute] || [];
};

// ========================================
// エクスポート
// ========================================

export default {
  CATEGORY_ATTRIBUTES,
  CATEGORIES,
  ATTRIBUTE_CATEGORIES,
  getAttributeForCategory,
  getCategoriesForAttribute,
};
